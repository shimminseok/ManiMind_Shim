# ManiMind_Shim
3D 턴제 전략 RPG ManiMind 개인 작업 레포지토리 입니다.


## 1. 패시브 시스템

전투 중 특정 상황(공격, 피격, 감정 변화 등)에 자동으로 반응하는 이벤트 기반 패시브 시스템을 설계하고 구현했습니다.


---
- PassiveSO를 기반으로 모든 패시브는 ScriptableObject로 관리됩니다.
- IPassiveTrigger 계열 인터페이스를 통해 턴 시작, 감정 변화, 사망 등 다양한 조건에 반응하도록 구조화했습니다.
- 유닛의 감정 상태와 스택에 따라 발동 조건을 분기 처리해 전략적 효과를 부여할 수 있도록 했습니다.
- 새로운 패시브는 코드 수정 없이 확장 가능하며, 디자이너가 에디터에서 직접 설정할 수 있도록 설계했습니다.
 
3. 감정 시스템
4. 턴제 전투 시스템
이 프로젝트의 전투 시스템은 TurnFSM + UnitFSM의 이중 상태 머신 구조로 설계되어,
전투 전체 흐름과 개별 유닛의 행동을 독립적이면서도 유기적으로 처리할 수 있도록 구성하였습니다.
---
  ### 설계 의도
- 유닛마다 이동, 공격, 스킬, 피격 등 복잡한 상태 전이를 명확하게 분리
- 전투 흐름은 턴 단위로 관리하면서 각 유닛은 자신만의 상태를 가지도록 설계
- 감정 시스템, 패시브, 반격 등 다양한 효과와의 유연한 통합을 고려
  ### 전투 흐름
  1. TurnHandler가 유닛 Speed 스탯 기준으로 턴 순서를 정렬
  2. 유닛은 StartTurn()을 통해 턴을 시작하고, 내부에서 TurnStateMachine을 실행
  3. 유닛은 Idle → Move → Act(공격/스킬) → Return → EndTurn 흐름을 따라 동작
  4. 전투 중 상태에 따라 감정/패시브 발동, 반격 처리 등 자동 실행
  ### 특이사항
  - 반격 시스템 : HitState에서 상대가 근거리일 경우 FSM 전이로 반격 처리
  - 패시브 자동 트리거 : IPassiveTurnStartTrigger, IPassiveEmotionStackTrigger 등으로 상태별 자동 발동
  ### 장점
  - 상태 간의 전이가 명확하여 디버깅 및 유지보수가 용이
  - 플레이어/적 유닛 모두 동일 구조를 공유하여 재사용성과 확장성이 우수
  - 상태 추가/확장 시 기존 흐름 영향 없이 독립적으로 구현 가능
  - 감정 시스템과 패시브 시스템을 FSM 안에서 자연스럽게 연결
---

6. 재사용 스크롤뷰
대량의 인벤토리 / 스킬 데이터를 효율적으로 출력하기 위해 ReuseScrollview 시스템을 구현하였습니다.
이 시스템은 ScrollRect의 아이템 프리팹을 동적으로 재사용함으로써, 아이템 개수가 많아져도 성능 저하 없이 동작합니다.
---
  ### 핵심 기능
  - Object Pooling기반 Slot 재사용
  - 가변형 데이터 대응
  - UI 반응성 유지

  ### 적용 예시
  - BaseInventoryUI 및 BaseSkillInventory를 기반으로 각종 인벤토리 UI에 적용
  - RefreshAtSlotUI(), GetSlotByItem() 등 슬롯 단위 갱신 기능 지원
  ### 성능 효과
  - ScrollView 렌더링 비용 절감
  - 메모리 사용량 감소(모바일 / WebGL 빌드)
  - 프레임 드랍 없이 안정적인 UX 제공

8. 오브젝트 풀
9. 유닛 Controller
10. 
